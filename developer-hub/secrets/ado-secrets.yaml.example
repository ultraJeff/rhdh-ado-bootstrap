# Azure DevOps Integration Secrets for RHDH
#
# To use:
# 1. Copy this file to ado-secrets.yaml (it's gitignored)
# 2. Fill in your Azure DevOps / Entra ID credentials
# 3. Apply with: oc apply -f ado-secrets.yaml
#
# Prerequisites:
# - Azure DevOps organization with repos you want to discover
# - Azure Entra ID app registration with appropriate permissions
#   Required API permissions: Azure DevOps (user_impersonation)
#
# For setup instructions, see:
# https://developers.redhat.com/articles/2025/08/22/integrate-azure-devops-red-hat-developer-hub-workflows
#
apiVersion: v1
kind: Secret
metadata:
  name: ado-secrets
  namespace: rhdh
  annotations:
    argocd.argoproj.io/sync-wave: "2"
type: Opaque
stringData:
  # Azure DevOps Organization name
  # This is the organization name from your Azure DevOps URL:
  # https://dev.azure.com/<AZURE_DEVOPS_ORG>
  AZURE_DEVOPS_ORG: <your-azure-devops-org>

  # Azure Entra ID (formerly Azure AD) App Registration credentials
  # Create an app registration in Azure Portal > Entra ID > App registrations
  AZURE_CLIENT_ID: <your-client-id>              # Application (client) ID
  AZURE_CLIENT_SECRET: <your-client-secret>      # Client secret value
  AZURE_TENANT_ID: <your-tenant-id>              # Directory (tenant) ID or domain (e.g., contoso.onmicrosoft.com)
